{"ast":null,"code":"var _jsxFileName = \"/Users/julienwuthrich/GitHub/stock-screener/frontend/src/pages/StockDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport * as THREE from 'three';\nimport { Box, Typography, Grid, Paper, CircularProgress, Button, Chip, Alert, Tabs, Tab, IconButton, Tooltip, useTheme } from '@mui/material';\nimport ShowChartIcon from '@mui/icons-material/ShowChart';\nimport ViewInArIcon from '@mui/icons-material/ViewInAr';\nimport NotificationsNoneOutlinedIcon from '@mui/icons-material/NotificationsNoneOutlined';\nimport KeyboardArrowUpIcon from '@mui/icons-material/KeyboardArrowUp';\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\nimport InfoOutlinedIcon from '@mui/icons-material/InfoOutlined';\nimport StarBorderIcon from '@mui/icons-material/StarBorder';\nimport StarIcon from '@mui/icons-material/Star';\nimport ShareIcon from '@mui/icons-material/Share';\nimport { alpha, styled } from '@mui/material/styles';\nimport axios from 'axios';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip as RechartsTooltip, ResponsiveContainer, ReferenceLine } from 'recharts';\nimport StockChart3D from '../components/StockChart3D';\nimport StockChartFallback from '../components/StockChartFallback';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\n\n// Styled components\nconst StyledPaper = styled(Paper)(({\n  theme\n}) => ({\n  borderRadius: 16,\n  boxShadow: 'none',\n  border: `1px solid ${alpha(theme.palette.divider, 0.6)}`,\n  overflow: 'hidden'\n}));\n_c = StyledPaper;\nconst StyledTab = styled(Tab)(({\n  theme\n}) => ({\n  fontWeight: 500,\n  textTransform: 'none',\n  minHeight: 48,\n  fontSize: '0.875rem'\n}));\n_c2 = StyledTab;\nconst PriceSection = styled(Box)(({\n  theme\n}) => ({\n  display: 'flex',\n  flexDirection: 'column',\n  marginBottom: theme.spacing(3)\n}));\n_c3 = PriceSection;\nconst MetricBox = styled(Box)(({\n  theme,\n  isPositive\n}) => ({\n  display: 'inline-flex',\n  alignItems: 'center',\n  padding: '4px 12px',\n  borderRadius: 4,\n  backgroundColor: isPositive ? alpha(theme.palette.success.main, 0.1) : alpha(theme.palette.error.main, 0.1),\n  color: isPositive ? theme.palette.success.main : theme.palette.error.main,\n  fontWeight: 600\n}));\n_c4 = MetricBox;\nconst StockDetail = () => {\n  _s();\n  var _stockData$price, _stockData$change, _stockData$change_per, _stockData$pe_ratio, _stockData$pe_ratio2, _stockData$dividend_y, _stockData$low_52week, _stockData$high_52wee;\n  const {\n    symbol\n  } = useParams();\n  const navigate = useNavigate();\n  const theme = useTheme();\n  const [loading, setLoading] = useState(true);\n  const [stockData, setStockData] = useState(null);\n  const [priceHistory, setPriceHistory] = useState([]);\n  const [error, setError] = useState('');\n  const [tabValue, setTabValue] = useState(0);\n  const [use3DFallback, setUse3DFallback] = useState(false);\n  const [isFavorite, setIsFavorite] = useState(false);\n  const [chartTimeRange, setChartTimeRange] = useState('1D');\n  useEffect(() => {\n    const fetchStockDetails = async () => {\n      setLoading(true);\n      setError('');\n      try {\n        // Fetch stock details\n        const stockResponse = await axios.get(`${API_URL}/api/stocks/details/${symbol}`);\n        setStockData(stockResponse.data);\n\n        // Fetch price history\n        const historyResponse = await axios.get(`${API_URL}/api/stocks/history/${symbol}?period=1mo`);\n        setPriceHistory(historyResponse.data.price_history);\n        setLoading(false);\n      } catch (error) {\n        console.error('Error fetching stock details:', error);\n        setError('Failed to load stock data. Please try again later.');\n\n        // Demo data for development\n        setStockData({\n          symbol: symbol,\n          name: `${symbol} Inc.`,\n          sector: 'Technology',\n          industry: 'Software',\n          price: 156.78,\n          change: 2.34,\n          change_percent: 1.52,\n          market_cap: 2400000000000,\n          pe_ratio: 28.6,\n          dividend_yield: 0.68,\n          volume: 45000000,\n          avg_volume: 52000000,\n          high_52week: 180.25,\n          low_52week: 120.18,\n          open: 154.20,\n          previous_close: 154.44\n        });\n\n        // Generate sample price history\n        const sampleHistory = generateSamplePriceHistory(30);\n        setPriceHistory(sampleHistory);\n        setLoading(false);\n      }\n    };\n    fetchStockDetails();\n\n    // Check if we should use fallback based on prior errors\n    const hasThreeError = localStorage.getItem('useChartFallback') === 'true';\n    setUse3DFallback(hasThreeError);\n\n    // Check if stock is in favorites\n    const favorites = JSON.parse(localStorage.getItem('favoriteStocks') || '[]');\n    setIsFavorite(favorites.includes(symbol));\n  }, [symbol]);\n\n  // Add a new useEffect to update chart data when timeframe changes\n  useEffect(() => {\n    const fetchChartData = async () => {\n      if (!symbol || loading) return;\n      try {\n        console.log(`Fetching chart data for ${symbol} with timeframe ${chartTimeRange}`);\n        // Map from UI timeframe to API timeframe format\n        const timeframeMap = {\n          '1D': '1D',\n          '1W': '5D',\n          '1M': '1M',\n          '3M': '3M',\n          '1Y': '1Y',\n          'All': '5Y'\n        };\n        const apiTimeframe = timeframeMap[chartTimeRange] || '1D';\n        const chartResponse = await axios.get(`${API_URL}/api/stocks/chart/${symbol}?timeframe=${apiTimeframe}`);\n        if (chartResponse.data && chartResponse.data.data) {\n          // Transform data for LineChart\n          const formattedData = chartResponse.data.data.map(point => {\n            // Ensure time is a proper Date object by multiplying by 1000 if it's in seconds\n            const timestamp = point.time * 1000; // Convert to milliseconds if in seconds\n            return {\n              date: new Date(timestamp).toISOString(),\n              close: point.price,\n              volume: point.volume\n            };\n          });\n          console.log(`Received ${formattedData.length} data points for chart`);\n          console.log(`Sample data point:`, formattedData[0]);\n          setPriceHistory(formattedData);\n        }\n      } catch (error) {\n        console.error(`Error fetching chart data: ${error}`);\n      }\n    };\n    fetchChartData();\n  }, [symbol, chartTimeRange, loading]);\n  const generateSamplePriceHistory = days => {\n    const data = [];\n    const now = new Date();\n    let basePrice = 150;\n    for (let i = days; i >= 0; i--) {\n      const date = new Date(now);\n      date.setDate(date.getDate() - i);\n\n      // Add some random variation to price\n      const randomChange = (Math.random() - 0.5) * 4;\n      basePrice += randomChange;\n      data.push({\n        date: date.toISOString().split('T')[0],\n        close: basePrice,\n        open: basePrice - Math.random() * 2,\n        high: basePrice + Math.random() * 2,\n        low: basePrice - Math.random() * 2,\n        volume: Math.floor(Math.random() * 10000000) + 40000000\n      });\n    }\n    return data;\n  };\n\n  // Transform price history data for 3D visualization\n  const get3DChartData = () => {\n    return priceHistory.map((item, index) => ({\n      value: item.close,\n      isHighlighted: index === priceHistory.length - 1 || index > 0 && Math.abs(item.close - priceHistory[index - 1].close) > 3\n    }));\n  };\n  const handleTabChange = (event, newValue) => {\n    setTabValue(newValue);\n  };\n  const handle3DError = () => {\n    console.warn('Error loading 3D chart, using fallback');\n    setUse3DFallback(true);\n    localStorage.setItem('useChartFallback', 'true');\n  };\n  const formatLargeNumber = num => {\n    if (num >= 1000000000000) {\n      return `$${(num / 1000000000000).toFixed(2)}T`;\n    } else if (num >= 1000000000) {\n      return `$${(num / 1000000000).toFixed(2)}B`;\n    } else if (num >= 1000000) {\n      return `$${(num / 1000000).toFixed(2)}M`;\n    } else {\n      return `$${num.toLocaleString()}`;\n    }\n  };\n  const formatNumber = num => {\n    return num ? num.toLocaleString() : 'N/A';\n  };\n  const toggleFavorite = () => {\n    const favorites = JSON.parse(localStorage.getItem('favoriteStocks') || '[]');\n    if (isFavorite) {\n      const newFavorites = favorites.filter(fav => fav !== symbol);\n      localStorage.setItem('favoriteStocks', JSON.stringify(newFavorites));\n    } else {\n      favorites.push(symbol);\n      localStorage.setItem('favoriteStocks', JSON.stringify(favorites));\n    }\n    setIsFavorite(!isFavorite);\n  };\n\n  // Find min and max for the chart\n  const calculatePriceRange = () => {\n    if (!priceHistory || priceHistory.length === 0) return {\n      min: 0,\n      max: 100\n    };\n    const prices = priceHistory.map(d => d.close);\n    const min = Math.min(...prices) * 0.995; // 0.5% below minimum\n    const max = Math.max(...prices) * 1.005; // 0.5% above maximum\n\n    return {\n      min,\n      max\n    };\n  };\n  const customTooltipFormatter = (value, name) => {\n    if (name === 'close') return ['$' + value.toFixed(2), 'Price'];\n    return [value, name];\n  };\n  const timeRangeButtons = ['1D', '1W', '1M', '3M', '1Y', 'All'];\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: loading ? /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '70vh',\n        flexDirection: 'column',\n        gap: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(CircularProgress, {\n        size: 40,\n        sx: {\n          color: theme.palette.grey[800]\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        color: \"text.secondary\",\n        children: [\"Loading \", symbol, \" data...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 9\n    }, this) : error && !stockData ? /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        my: 2,\n        borderRadius: theme.shape.borderRadius * 2\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 9\n    }, this) : stockData && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mb: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'flex-start',\n            mb: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              component: \"h1\",\n              fontWeight: 600,\n              children: stockData.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: [symbol, \" \\u2022 \", stockData.sector]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              gap: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n              title: isFavorite ? \"Remove from Watchlist\" : \"Add to Watchlist\",\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                onClick: toggleFavorite,\n                sx: {\n                  color: isFavorite ? theme.palette.warning.main : theme.palette.text.secondary\n                },\n                children: isFavorite ? /*#__PURE__*/_jsxDEV(StarIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 35\n                }, this) : /*#__PURE__*/_jsxDEV(StarBorderIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 50\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"Share\",\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                sx: {\n                  color: theme.palette.text.secondary\n                },\n                children: /*#__PURE__*/_jsxDEV(ShareIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"Set Price Alert\",\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                sx: {\n                  color: theme.palette.text.secondary\n                },\n                onClick: () => navigate(`/alerts?stock=${symbol}`),\n                children: /*#__PURE__*/_jsxDEV(NotificationsNoneOutlinedIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(PriceSection, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h3\",\n            fontWeight: 700,\n            sx: {\n              mb: 0.5\n            },\n            children: [\"$\", (_stockData$price = stockData.price) === null || _stockData$price === void 0 ? void 0 : _stockData$price.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(MetricBox, {\n              isPositive: stockData.change_percent > 0,\n              children: [stockData.change_percent > 0 ? /*#__PURE__*/_jsxDEV(KeyboardArrowUpIcon, {\n                fontSize: \"small\",\n                sx: {\n                  mr: 0.5\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(KeyboardArrowDownIcon, {\n                fontSize: \"small\",\n                sx: {\n                  mr: 0.5\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 21\n              }, this), stockData.change > 0 ? '+' : '', (_stockData$change = stockData.change) === null || _stockData$change === void 0 ? void 0 : _stockData$change.toFixed(2), \" (\", stockData.change_percent > 0 ? '+' : '', (_stockData$change_per = stockData.change_percent) === null || _stockData$change_per === void 0 ? void 0 : _stockData$change_per.toFixed(2), \"%)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: \"Today\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(StyledPaper, {\n        sx: {\n          mb: 4,\n          p: 0\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            borderBottom: `1px solid ${theme.palette.divider}`,\n            px: 3,\n            py: 1.5\n          },\n          children: [timeRangeButtons.map(range => /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setChartTimeRange(range),\n            sx: {\n              minWidth: 40,\n              px: 1.5,\n              py: 0.5,\n              borderRadius: 1.5,\n              mx: 0.5,\n              color: chartTimeRange === range ? 'white' : 'text.secondary',\n              backgroundColor: chartTimeRange === range ? stockData.change_percent > 0 ? 'success.main' : 'error.main' : 'transparent',\n              fontWeight: 500,\n              fontSize: '0.8rem',\n              '&:hover': {\n                backgroundColor: chartTimeRange === range ? stockData.change_percent > 0 ? 'success.dark' : 'error.dark' : alpha(theme.palette.grey[500], 0.1)\n              }\n            },\n            children: range\n          }, range, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 17\n          }, this)), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              flexGrow: 1\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"text\",\n            color: \"inherit\",\n            onClick: () => setTabValue(1),\n            startIcon: /*#__PURE__*/_jsxDEV(ViewInArIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 28\n            }, this),\n            sx: {\n              color: 'text.secondary',\n              '&:hover': {\n                backgroundColor: alpha(theme.palette.grey[500], 0.1)\n              }\n            },\n            children: \"3D View\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            p: 3,\n            pt: 1\n          },\n          children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            width: \"100%\",\n            height: 350,\n            children: /*#__PURE__*/_jsxDEV(LineChart, {\n              data: priceHistory,\n              margin: {\n                top: 20,\n                right: 5,\n                left: 5,\n                bottom: 5\n              },\n              children: [/*#__PURE__*/_jsxDEV(XAxis, {\n                dataKey: \"date\",\n                axisLine: false,\n                tickLine: false,\n                tick: {\n                  fontSize: 12,\n                  fill: theme.palette.text.secondary\n                },\n                tickMargin: 10,\n                tickFormatter: value => {\n                  try {\n                    const date = new Date(value);\n                    if (chartTimeRange === '1D') {\n                      // Format time as HH:MM for 1D view\n                      return date.toLocaleTimeString('en-US', {\n                        hour: '2-digit',\n                        minute: '2-digit',\n                        hour12: true\n                      });\n                    }\n                    if (chartTimeRange === '1W' || chartTimeRange === '1M') {\n                      return date.getDate(); // Return day of month for 1W and 1M\n                    }\n                    // For other ranges format as MMM DD\n                    return date.toLocaleDateString('en-US', {\n                      month: 'short',\n                      day: 'numeric'\n                    });\n                  } catch (e) {\n                    console.error(\"Date formatting error:\", e, value);\n                    return \"\";\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                domain: [calculatePriceRange().min, calculatePriceRange().max],\n                axisLine: false,\n                tickLine: false,\n                tick: {\n                  fontSize: 12,\n                  fill: theme.palette.text.secondary\n                },\n                tickFormatter: value => `$${value.toFixed(0)}`,\n                tickMargin: 10,\n                tickCount: 6,\n                orientation: \"right\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(CartesianGrid, {\n                stroke: alpha(theme.palette.divider, 0.5),\n                strokeDasharray: \"5 5\",\n                vertical: false\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(RechartsTooltip, {\n                formatter: customTooltipFormatter,\n                labelFormatter: label => {\n                  const date = new Date(label);\n                  return date.toLocaleDateString('en-US', {\n                    month: 'short',\n                    day: 'numeric',\n                    year: chartTimeRange === '1Y' || chartTimeRange === 'All' ? 'numeric' : undefined\n                  });\n                },\n                contentStyle: {\n                  backgroundColor: 'white',\n                  borderRadius: 8,\n                  border: 'none',\n                  boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\n                  padding: '8px 12px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ReferenceLine, {\n                y: stockData.previous_close,\n                stroke: theme.palette.grey[400],\n                strokeDasharray: \"3 3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Line, {\n                type: \"monotone\",\n                dataKey: \"close\",\n                stroke: stockData.change_percent > 0 ? theme.palette.success.main : theme.palette.error.main,\n                strokeWidth: 2,\n                dot: false,\n                activeDot: {\n                  r: 6,\n                  stroke: 'white',\n                  strokeWidth: 2,\n                  fill: stockData.change_percent > 0 ? theme.palette.success.main : theme.palette.error.main\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        fontWeight: 600,\n        sx: {\n          mb: 2\n        },\n        children: \"Key Statistics\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        sx: {\n          mb: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 6,\n          sm: 3,\n          children: /*#__PURE__*/_jsxDEV(StyledPaper, {\n            sx: {\n              p: 2,\n              height: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              sx: {\n                mb: 1\n              },\n              children: \"Open\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle1\",\n              fontWeight: 600,\n              children: stockData.open ? `$${stockData.open.toFixed(2)}` : 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 530,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 6,\n          sm: 3,\n          children: /*#__PURE__*/_jsxDEV(StyledPaper, {\n            sx: {\n              p: 2,\n              height: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              sx: {\n                mb: 1\n              },\n              children: \"Previous Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle1\",\n              fontWeight: 600,\n              children: stockData.previous_close ? `$${stockData.previous_close.toFixed(2)}` : 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 537,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 6,\n          sm: 3,\n          children: /*#__PURE__*/_jsxDEV(StyledPaper, {\n            sx: {\n              p: 2,\n              height: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              sx: {\n                mb: 1\n              },\n              children: \"Day Range\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle1\",\n              fontWeight: 600,\n              children: stockData.price && stockData.change ? `$${(stockData.price - Math.abs(stockData.change) * 0.8).toFixed(2)} - $${(stockData.price + Math.abs(stockData.change) * 0.2).toFixed(2)}` : 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 548,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 547,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 6,\n          sm: 3,\n          children: /*#__PURE__*/_jsxDEV(StyledPaper, {\n            sx: {\n              p: 2,\n              height: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              sx: {\n                mb: 1\n              },\n              children: \"52W Range\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 562,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle1\",\n              fontWeight: 600,\n              children: stockData.low_52week && stockData.high_52week ? `$${stockData.low_52week.toFixed(2)} - $${stockData.high_52week.toFixed(2)}` : 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 565,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 561,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 560,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 6,\n          sm: 3,\n          children: /*#__PURE__*/_jsxDEV(StyledPaper, {\n            sx: {\n              p: 2,\n              height: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              sx: {\n                mb: 1\n              },\n              children: \"Volume\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 575,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle1\",\n              fontWeight: 600,\n              children: formatNumber(stockData.volume)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 578,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 574,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 573,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 6,\n          sm: 3,\n          children: /*#__PURE__*/_jsxDEV(StyledPaper, {\n            sx: {\n              p: 2,\n              height: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              sx: {\n                mb: 1\n              },\n              children: \"Avg. Volume\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle1\",\n              fontWeight: 600,\n              children: formatNumber(stockData.avg_volume)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 589,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 585,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 584,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 6,\n          sm: 3,\n          children: /*#__PURE__*/_jsxDEV(StyledPaper, {\n            sx: {\n              p: 2,\n              height: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              sx: {\n                mb: 1\n              },\n              children: \"Market Cap\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 597,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle1\",\n              fontWeight: 600,\n              children: formatLargeNumber(stockData.market_cap)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 600,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 596,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 595,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 6,\n          sm: 3,\n          children: /*#__PURE__*/_jsxDEV(StyledPaper, {\n            sx: {\n              p: 2,\n              height: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              sx: {\n                mb: 1\n              },\n              children: \"P/E Ratio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 608,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle1\",\n              fontWeight: 600,\n              children: (_stockData$pe_ratio = stockData.pe_ratio) === null || _stockData$pe_ratio === void 0 ? void 0 : _stockData$pe_ratio.toFixed(2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 611,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 607,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 606,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 524,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(StyledPaper, {\n        sx: {\n          mb: 3,\n          overflow: 'hidden'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Tabs, {\n          value: tabValue,\n          onChange: handleTabChange,\n          \"aria-label\": \"stock details tabs\",\n          sx: {\n            borderBottom: `1px solid ${theme.palette.divider}`,\n            '& .MuiTabs-indicator': {\n              backgroundColor: stockData.change_percent > 0 ? theme.palette.success.main : theme.palette.error.main\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(StyledTab, {\n            icon: /*#__PURE__*/_jsxDEV(ShowChartIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 631,\n              columnNumber: 32\n            }, this),\n            iconPosition: \"start\",\n            label: \"Chart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 631,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StyledTab, {\n            icon: /*#__PURE__*/_jsxDEV(ViewInArIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 32\n            }, this),\n            iconPosition: \"start\",\n            label: \"3D View\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 632,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StyledTab, {\n            icon: /*#__PURE__*/_jsxDEV(InfoOutlinedIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 633,\n              columnNumber: 32\n            }, this),\n            iconPosition: \"start\",\n            label: \"About\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 633,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 620,\n          columnNumber: 13\n        }, this), tabValue === 0 && /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            p: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            fontWeight: 600,\n            sx: {\n              mb: 2\n            },\n            children: \"Price Chart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 638,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"text.secondary\",\n            children: [\"This chart shows the historical price movement of \", stockData.name, \" (\", symbol, \") stock. You can adjust the time range using the buttons above the chart.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 641,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 637,\n          columnNumber: 15\n        }, this), tabValue === 1 && /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            p: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            fontWeight: 600,\n            sx: {\n              mb: 2\n            },\n            children: \"3D Price Visualization\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 650,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(StyledPaper, {\n            elevation: 0,\n            sx: {\n              height: 400,\n              width: '100%',\n              p: 1,\n              bgcolor: alpha(theme.palette.background.paper, 0.5),\n              border: `1px solid ${alpha(theme.palette.divider, 0.5)}`,\n              borderRadius: 3\n            },\n            children: use3DFallback ? /*#__PURE__*/_jsxDEV(StockChartFallback, {\n              data: get3DChartData(),\n              height: 370\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 666,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(ErrorBoundary, {\n              fallback: /*#__PURE__*/_jsxDEV(StockChartFallback, {\n                data: get3DChartData(),\n                height: 370\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 669,\n                columnNumber: 33\n              }, this),\n              onError: handle3DError,\n              children: /*#__PURE__*/_jsxDEV(StockChart3D, {\n                data: get3DChartData(),\n                height: 370\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 672,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 668,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 654,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"text.secondary\",\n            sx: {\n              mt: 2,\n              textAlign: 'center',\n              fontSize: '0.8rem'\n            },\n            children: use3DFallback ? 'Enhanced 3D-style visualization of price movement over time' : 'Tip: Click and drag to rotate the view. Scroll to zoom in and out.'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 677,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 649,\n          columnNumber: 15\n        }, this), tabValue === 2 && /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            p: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            fontWeight: 600,\n            sx: {\n              mb: 2\n            },\n            children: [\"About \", stockData.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 695,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 3,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  color: \"text.secondary\",\n                  paragraph: true,\n                  children: [stockData.name, \" (\", symbol, \") is a \", stockData.industry, \" company in the \", stockData.sector, \" sector. The company has a market cap of \", formatLargeNumber(stockData.market_cap), \".\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 702,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  color: \"text.secondary\",\n                  paragraph: true,\n                  children: [\"The stock has a P/E ratio of \", (_stockData$pe_ratio2 = stockData.pe_ratio) === null || _stockData$pe_ratio2 === void 0 ? void 0 : _stockData$pe_ratio2.toFixed(2), \", and a dividend yield of \", (_stockData$dividend_y = stockData.dividend_yield) === null || _stockData$dividend_y === void 0 ? void 0 : _stockData$dividend_y.toFixed(2), \"%.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 707,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  color: \"text.secondary\",\n                  children: [\"This stock has traded between $\", (_stockData$low_52week = stockData.low_52week) === null || _stockData$low_52week === void 0 ? void 0 : _stockData$low_52week.toFixed(2), \" and $\", (_stockData$high_52wee = stockData.high_52week) === null || _stockData$high_52wee === void 0 ? void 0 : _stockData$high_52wee.toFixed(2), \"over the past 52 weeks.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 712,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 701,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 700,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  pl: {\n                    md: 2\n                  },\n                  borderLeft: {\n                    md: `1px solid ${theme.palette.divider}`\n                  }\n                },\n                children: [/*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    mb: 2\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    sx: {\n                      mb: 0.5\n                    },\n                    children: \"Industry\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 722,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body1\",\n                    fontWeight: 500,\n                    children: stockData.industry\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 725,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 721,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    mb: 2\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    sx: {\n                      mb: 0.5\n                    },\n                    children: \"Sector\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 731,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body1\",\n                    fontWeight: 500,\n                    children: stockData.sector\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 734,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 730,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    sx: {\n                      mb: 0.5\n                    },\n                    children: \"Exchange\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 740,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body1\",\n                    fontWeight: 500,\n                    children: \"NASDAQ\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 743,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 739,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 720,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 719,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 699,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 694,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 619,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mb: 4\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          fullWidth: true,\n          sx: {\n            py: 1.2,\n            borderColor: stockData.change_percent > 0 ? theme.palette.success.main : theme.palette.error.main,\n            color: stockData.change_percent > 0 ? theme.palette.success.main : theme.palette.error.main,\n            borderWidth: 1.5,\n            fontWeight: 600,\n            '&:hover': {\n              borderWidth: 1.5,\n              backgroundColor: alpha(stockData.change_percent > 0 ? theme.palette.success.main : theme.palette.error.main, 0.05),\n              borderColor: stockData.change_percent > 0 ? theme.palette.success.main : theme.palette.error.main\n            }\n          },\n          children: [\"Buy \", symbol]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 755,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 754,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 274,\n    columnNumber: 5\n  }, this);\n};\n\n// Error boundary component to catch Three.js errors\n_s(StockDetail, \"SnQo6GkSF81rg9DK86akFcrNLz8=\", false, function () {\n  return [useParams, useNavigate, useTheme];\n});\n_c5 = StockDetail;\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hasError: false\n    };\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      hasError: true\n    };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error(\"3D chart error:\", error, errorInfo);\n    if (this.props.onError) {\n      this.props.onError();\n    }\n  }\n  render() {\n    if (this.state.hasError) {\n      return this.props.fallback;\n    }\n    return this.props.children;\n  }\n}\nexport default StockDetail;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"StyledPaper\");\n$RefreshReg$(_c2, \"StyledTab\");\n$RefreshReg$(_c3, \"PriceSection\");\n$RefreshReg$(_c4, \"MetricBox\");\n$RefreshReg$(_c5, \"StockDetail\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","THREE","Box","Typography","Grid","Paper","CircularProgress","Button","Chip","Alert","Tabs","Tab","IconButton","Tooltip","useTheme","ShowChartIcon","ViewInArIcon","NotificationsNoneOutlinedIcon","KeyboardArrowUpIcon","KeyboardArrowDownIcon","InfoOutlinedIcon","StarBorderIcon","StarIcon","ShareIcon","alpha","styled","axios","LineChart","Line","XAxis","YAxis","CartesianGrid","RechartsTooltip","ResponsiveContainer","ReferenceLine","StockChart3D","StockChartFallback","jsxDEV","_jsxDEV","Fragment","_Fragment","API_URL","process","env","REACT_APP_API_URL","StyledPaper","theme","borderRadius","boxShadow","border","palette","divider","overflow","_c","StyledTab","fontWeight","textTransform","minHeight","fontSize","_c2","PriceSection","display","flexDirection","marginBottom","spacing","_c3","MetricBox","isPositive","alignItems","padding","backgroundColor","success","main","error","color","_c4","StockDetail","_s","_stockData$price","_stockData$change","_stockData$change_per","_stockData$pe_ratio","_stockData$pe_ratio2","_stockData$dividend_y","_stockData$low_52week","_stockData$high_52wee","symbol","navigate","loading","setLoading","stockData","setStockData","priceHistory","setPriceHistory","setError","tabValue","setTabValue","use3DFallback","setUse3DFallback","isFavorite","setIsFavorite","chartTimeRange","setChartTimeRange","fetchStockDetails","stockResponse","get","data","historyResponse","price_history","console","name","sector","industry","price","change","change_percent","market_cap","pe_ratio","dividend_yield","volume","avg_volume","high_52week","low_52week","open","previous_close","sampleHistory","generateSamplePriceHistory","hasThreeError","localStorage","getItem","favorites","JSON","parse","includes","fetchChartData","log","timeframeMap","apiTimeframe","chartResponse","formattedData","map","point","timestamp","time","date","Date","toISOString","close","length","days","now","basePrice","i","setDate","getDate","randomChange","Math","random","push","split","high","low","floor","get3DChartData","item","index","value","isHighlighted","abs","handleTabChange","event","newValue","handle3DError","warn","setItem","formatLargeNumber","num","toFixed","toLocaleString","formatNumber","toggleFavorite","newFavorites","filter","fav","stringify","calculatePriceRange","min","max","prices","d","customTooltipFormatter","timeRangeButtons","children","sx","justifyContent","height","gap","size","grey","fileName","_jsxFileName","lineNumber","columnNumber","variant","severity","my","shape","mb","component","title","onClick","warning","text","secondary","mr","p","borderBottom","px","py","range","minWidth","mx","flexGrow","startIcon","pt","width","margin","top","right","left","bottom","dataKey","axisLine","tickLine","tick","fill","tickMargin","tickFormatter","toLocaleTimeString","hour","minute","hour12","toLocaleDateString","month","day","e","domain","tickCount","orientation","stroke","strokeDasharray","vertical","formatter","labelFormatter","label","year","undefined","contentStyle","y","type","strokeWidth","dot","activeDot","r","container","xs","sm","onChange","icon","iconPosition","elevation","bgcolor","background","paper","ErrorBoundary","fallback","onError","mt","textAlign","md","paragraph","pl","borderLeft","fullWidth","borderColor","borderWidth","_c5","Component","constructor","props","state","hasError","getDerivedStateFromError","componentDidCatch","errorInfo","render","$RefreshReg$"],"sources":["/Users/julienwuthrich/GitHub/stock-screener/frontend/src/pages/StockDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport * as THREE from 'three';\nimport { \n  Box, Typography, Grid, Paper, \n  CircularProgress, Button, Chip, Alert, Tabs, Tab,\n  IconButton, Tooltip, useTheme\n} from '@mui/material';\nimport ShowChartIcon from '@mui/icons-material/ShowChart';\nimport ViewInArIcon from '@mui/icons-material/ViewInAr';\nimport NotificationsNoneOutlinedIcon from '@mui/icons-material/NotificationsNoneOutlined';\nimport KeyboardArrowUpIcon from '@mui/icons-material/KeyboardArrowUp';\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\nimport InfoOutlinedIcon from '@mui/icons-material/InfoOutlined';\nimport StarBorderIcon from '@mui/icons-material/StarBorder';\nimport StarIcon from '@mui/icons-material/Star';\nimport ShareIcon from '@mui/icons-material/Share';\nimport { alpha, styled } from '@mui/material/styles';\nimport axios from 'axios';\nimport { \n  LineChart, Line, XAxis, YAxis, CartesianGrid, \n  Tooltip as RechartsTooltip, ResponsiveContainer,\n  ReferenceLine\n} from 'recharts';\nimport StockChart3D from '../components/StockChart3D';\nimport StockChartFallback from '../components/StockChartFallback';\n\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\n\n// Styled components\nconst StyledPaper = styled(Paper)(({ theme }) => ({\n  borderRadius: 16,\n  boxShadow: 'none',\n  border: `1px solid ${alpha(theme.palette.divider, 0.6)}`,\n  overflow: 'hidden'\n}));\n\nconst StyledTab = styled(Tab)(({ theme }) => ({\n  fontWeight: 500,\n  textTransform: 'none',\n  minHeight: 48,\n  fontSize: '0.875rem'\n}));\n\nconst PriceSection = styled(Box)(({ theme }) => ({\n  display: 'flex',\n  flexDirection: 'column',\n  marginBottom: theme.spacing(3)\n}));\n\nconst MetricBox = styled(Box)(({ theme, isPositive }) => ({\n  display: 'inline-flex',\n  alignItems: 'center',\n  padding: '4px 12px',\n  borderRadius: 4,\n  backgroundColor: isPositive \n    ? alpha(theme.palette.success.main, 0.1)\n    : alpha(theme.palette.error.main, 0.1),\n  color: isPositive ? theme.palette.success.main : theme.palette.error.main,\n  fontWeight: 600\n}));\n\nconst StockDetail = () => {\n  const { symbol } = useParams();\n  const navigate = useNavigate();\n  const theme = useTheme();\n  \n  const [loading, setLoading] = useState(true);\n  const [stockData, setStockData] = useState(null);\n  const [priceHistory, setPriceHistory] = useState([]);\n  const [error, setError] = useState('');\n  const [tabValue, setTabValue] = useState(0);\n  const [use3DFallback, setUse3DFallback] = useState(false);\n  const [isFavorite, setIsFavorite] = useState(false);\n  const [chartTimeRange, setChartTimeRange] = useState('1D');\n  \n  useEffect(() => {\n    const fetchStockDetails = async () => {\n      setLoading(true);\n      setError('');\n      \n      try {\n        // Fetch stock details\n        const stockResponse = await axios.get(`${API_URL}/api/stocks/details/${symbol}`);\n        setStockData(stockResponse.data);\n        \n        // Fetch price history\n        const historyResponse = await axios.get(`${API_URL}/api/stocks/history/${symbol}?period=1mo`);\n        setPriceHistory(historyResponse.data.price_history);\n        \n        setLoading(false);\n      } catch (error) {\n        console.error('Error fetching stock details:', error);\n        setError('Failed to load stock data. Please try again later.');\n        \n        // Demo data for development\n        setStockData({\n          symbol: symbol,\n          name: `${symbol} Inc.`,\n          sector: 'Technology',\n          industry: 'Software',\n          price: 156.78,\n          change: 2.34,\n          change_percent: 1.52,\n          market_cap: 2400000000000,\n          pe_ratio: 28.6,\n          dividend_yield: 0.68,\n          volume: 45000000,\n          avg_volume: 52000000,\n          high_52week: 180.25,\n          low_52week: 120.18,\n          open: 154.20,\n          previous_close: 154.44\n        });\n        \n        // Generate sample price history\n        const sampleHistory = generateSamplePriceHistory(30);\n        setPriceHistory(sampleHistory);\n        \n        setLoading(false);\n      }\n    };\n    \n    fetchStockDetails();\n    \n    // Check if we should use fallback based on prior errors\n    const hasThreeError = localStorage.getItem('useChartFallback') === 'true';\n    setUse3DFallback(hasThreeError);\n    \n    // Check if stock is in favorites\n    const favorites = JSON.parse(localStorage.getItem('favoriteStocks') || '[]');\n    setIsFavorite(favorites.includes(symbol));\n    \n  }, [symbol]);\n  \n  // Add a new useEffect to update chart data when timeframe changes\n  useEffect(() => {\n    const fetchChartData = async () => {\n      if (!symbol || loading) return;\n      \n      try {\n        console.log(`Fetching chart data for ${symbol} with timeframe ${chartTimeRange}`);\n        // Map from UI timeframe to API timeframe format\n        const timeframeMap = {\n          '1D': '1D',\n          '1W': '5D',\n          '1M': '1M',\n          '3M': '3M',\n          '1Y': '1Y',\n          'All': '5Y'\n        };\n        \n        const apiTimeframe = timeframeMap[chartTimeRange] || '1D';\n        const chartResponse = await axios.get(`${API_URL}/api/stocks/chart/${symbol}?timeframe=${apiTimeframe}`);\n        \n        if (chartResponse.data && chartResponse.data.data) {\n          // Transform data for LineChart\n          const formattedData = chartResponse.data.data.map(point => {\n            // Ensure time is a proper Date object by multiplying by 1000 if it's in seconds\n            const timestamp = point.time * 1000; // Convert to milliseconds if in seconds\n            return {\n              date: new Date(timestamp).toISOString(),\n              close: point.price,\n              volume: point.volume\n            };\n          });\n          \n          console.log(`Received ${formattedData.length} data points for chart`);\n          console.log(`Sample data point:`, formattedData[0]);\n          setPriceHistory(formattedData);\n        }\n      } catch (error) {\n        console.error(`Error fetching chart data: ${error}`);\n      }\n    };\n    \n    fetchChartData();\n  }, [symbol, chartTimeRange, loading]);\n  \n  const generateSamplePriceHistory = (days) => {\n    const data = [];\n    const now = new Date();\n    let basePrice = 150;\n    \n    for (let i = days; i >= 0; i--) {\n      const date = new Date(now);\n      date.setDate(date.getDate() - i);\n      \n      // Add some random variation to price\n      const randomChange = (Math.random() - 0.5) * 4;\n      basePrice += randomChange;\n      \n      data.push({\n        date: date.toISOString().split('T')[0],\n        close: basePrice,\n        open: basePrice - (Math.random() * 2),\n        high: basePrice + (Math.random() * 2),\n        low: basePrice - (Math.random() * 2),\n        volume: Math.floor(Math.random() * 10000000) + 40000000\n      });\n    }\n    \n    return data;\n  };\n  \n  // Transform price history data for 3D visualization\n  const get3DChartData = () => {\n    return priceHistory.map((item, index) => ({\n      value: item.close,\n      isHighlighted: index === priceHistory.length - 1 || \n                     (index > 0 && Math.abs(item.close - priceHistory[index - 1].close) > 3)\n    }));\n  };\n  \n  const handleTabChange = (event, newValue) => {\n    setTabValue(newValue);\n  };\n  \n  const handle3DError = () => {\n    console.warn('Error loading 3D chart, using fallback');\n    setUse3DFallback(true);\n    localStorage.setItem('useChartFallback', 'true');\n  };\n  \n  const formatLargeNumber = (num) => {\n    if (num >= 1000000000000) {\n      return `$${(num / 1000000000000).toFixed(2)}T`;\n    } else if (num >= 1000000000) {\n      return `$${(num / 1000000000).toFixed(2)}B`;\n    } else if (num >= 1000000) {\n      return `$${(num / 1000000).toFixed(2)}M`;\n    } else {\n      return `$${num.toLocaleString()}`;\n    }\n  };\n  \n  const formatNumber = (num) => {\n    return num ? num.toLocaleString() : 'N/A';\n  };\n  \n  const toggleFavorite = () => {\n    const favorites = JSON.parse(localStorage.getItem('favoriteStocks') || '[]');\n    \n    if (isFavorite) {\n      const newFavorites = favorites.filter(fav => fav !== symbol);\n      localStorage.setItem('favoriteStocks', JSON.stringify(newFavorites));\n    } else {\n      favorites.push(symbol);\n      localStorage.setItem('favoriteStocks', JSON.stringify(favorites));\n    }\n    \n    setIsFavorite(!isFavorite);\n  };\n  \n  // Find min and max for the chart\n  const calculatePriceRange = () => {\n    if (!priceHistory || priceHistory.length === 0) return { min: 0, max: 100 };\n    \n    const prices = priceHistory.map(d => d.close);\n    const min = Math.min(...prices) * 0.995; // 0.5% below minimum\n    const max = Math.max(...prices) * 1.005; // 0.5% above maximum\n    \n    return { min, max };\n  };\n  \n  const customTooltipFormatter = (value, name) => {\n    if (name === 'close') return ['$' + value.toFixed(2), 'Price'];\n    return [value, name];\n  };\n\n  const timeRangeButtons = ['1D', '1W', '1M', '3M', '1Y', 'All'];\n  \n  return (\n    <Box>\n      {loading ? (\n        <Box sx={{ \n          display: 'flex', \n          justifyContent: 'center', \n          alignItems: 'center',\n          height: '70vh',\n          flexDirection: 'column',\n          gap: 2\n        }}>\n          <CircularProgress size={40} sx={{ color: theme.palette.grey[800] }} />\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            Loading {symbol} data...\n          </Typography>\n        </Box>\n      ) : error && !stockData ? (\n        <Alert \n          severity=\"error\" \n          sx={{ \n            my: 2,\n            borderRadius: theme.shape.borderRadius * 2\n          }}\n        >\n          {error}\n        </Alert>\n      ) : stockData && (\n        <>\n          {/* Stock Header */}\n          <Box sx={{ mb: 4 }}>\n            <Box sx={{ \n              display: 'flex', \n              justifyContent: 'space-between', \n              alignItems: 'flex-start',\n              mb: 1\n            }}>\n              <Box>\n                <Typography variant=\"h4\" component=\"h1\" fontWeight={600}>\n                  {stockData.name}\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  {symbol}  {stockData.sector}\n                </Typography>\n              </Box>\n              \n              <Box sx={{ display: 'flex', gap: 1 }}>\n                <Tooltip title={isFavorite ? \"Remove from Watchlist\" : \"Add to Watchlist\"}>\n                  <IconButton \n                    onClick={toggleFavorite}\n                    sx={{ \n                      color: isFavorite ? theme.palette.warning.main : theme.palette.text.secondary,\n                    }}\n                  >\n                    {isFavorite ? <StarIcon /> : <StarBorderIcon />}\n                  </IconButton>\n                </Tooltip>\n                \n                <Tooltip title=\"Share\">\n                  <IconButton sx={{ color: theme.palette.text.secondary }}>\n                    <ShareIcon />\n                  </IconButton>\n                </Tooltip>\n                \n                <Tooltip title=\"Set Price Alert\">\n                  <IconButton \n                    sx={{ color: theme.palette.text.secondary }}\n                    onClick={() => navigate(`/alerts?stock=${symbol}`)}\n                  >\n                    <NotificationsNoneOutlinedIcon />\n                  </IconButton>\n                </Tooltip>\n              </Box>\n            </Box>\n            \n            {/* Price Display */}\n            <PriceSection>\n              <Typography \n                variant=\"h3\" \n                fontWeight={700} \n                sx={{ mb: 0.5 }}\n              >\n                ${stockData.price?.toFixed(2)}\n              </Typography>\n              \n              <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\n                <MetricBox isPositive={stockData.change_percent > 0}>\n                  {stockData.change_percent > 0 ? (\n                    <KeyboardArrowUpIcon fontSize=\"small\" sx={{ mr: 0.5 }} />\n                  ) : (\n                    <KeyboardArrowDownIcon fontSize=\"small\" sx={{ mr: 0.5 }} />\n                  )}\n                  {stockData.change > 0 ? '+' : ''}{stockData.change?.toFixed(2)} ({stockData.change_percent > 0 ? '+' : ''}{stockData.change_percent?.toFixed(2)}%)\n                </MetricBox>\n                \n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  Today\n                </Typography>\n              </Box>\n            </PriceSection>\n          </Box>\n          \n          {/* Chart */}\n          <StyledPaper sx={{ mb: 4, p: 0 }}>\n            {/* Chart Time Range Selector */}\n            <Box \n              sx={{ \n                display: 'flex', \n                borderBottom: `1px solid ${theme.palette.divider}`,\n                px: 3,\n                py: 1.5\n              }}\n            >\n              {timeRangeButtons.map((range) => (\n                <Button\n                  key={range}\n                  onClick={() => setChartTimeRange(range)}\n                  sx={{\n                    minWidth: 40,\n                    px: 1.5,\n                    py: 0.5,\n                    borderRadius: 1.5,\n                    mx: 0.5,\n                    color: chartTimeRange === range ? 'white' : 'text.secondary',\n                    backgroundColor: chartTimeRange === range \n                      ? stockData.change_percent > 0 \n                        ? 'success.main' \n                        : 'error.main'\n                      : 'transparent',\n                    fontWeight: 500,\n                    fontSize: '0.8rem',\n                    '&:hover': {\n                      backgroundColor: chartTimeRange === range \n                        ? stockData.change_percent > 0 \n                          ? 'success.dark' \n                          : 'error.dark'\n                        : alpha(theme.palette.grey[500], 0.1)\n                    }\n                  }}\n                >\n                  {range}\n                </Button>\n              ))}\n              \n              <Box sx={{ flexGrow: 1 }} />\n              \n              <Button\n                variant=\"text\"\n                color=\"inherit\"\n                onClick={() => setTabValue(1)}\n                startIcon={<ViewInArIcon />}\n                sx={{ \n                  color: 'text.secondary',\n                  '&:hover': { backgroundColor: alpha(theme.palette.grey[500], 0.1) }\n                }}\n              >\n                3D View\n              </Button>\n            </Box>\n            \n            {/* Price Chart */}\n            <Box sx={{ p: 3, pt: 1 }}>\n              <ResponsiveContainer width=\"100%\" height={350}>\n                <LineChart \n                  data={priceHistory}\n                  margin={{ top: 20, right: 5, left: 5, bottom: 5 }}\n                >\n                  <XAxis \n                    dataKey=\"date\" \n                    axisLine={false}\n                    tickLine={false}\n                    tick={{ fontSize: 12, fill: theme.palette.text.secondary }}\n                    tickMargin={10}\n                    tickFormatter={(value) => {\n                      try {\n                        const date = new Date(value);\n                        if (chartTimeRange === '1D') {\n                          // Format time as HH:MM for 1D view\n                          return date.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', hour12: true });\n                        }\n                        if (chartTimeRange === '1W' || chartTimeRange === '1M') {\n                          return date.getDate(); // Return day of month for 1W and 1M\n                        }\n                        // For other ranges format as MMM DD\n                        return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\n                      } catch (e) {\n                        console.error(\"Date formatting error:\", e, value);\n                        return \"\";\n                      }\n                    }}\n                  />\n                  <YAxis \n                    domain={[calculatePriceRange().min, calculatePriceRange().max]} \n                    axisLine={false}\n                    tickLine={false}\n                    tick={{ fontSize: 12, fill: theme.palette.text.secondary }}\n                    tickFormatter={(value) => `$${value.toFixed(0)}`}\n                    tickMargin={10}\n                    tickCount={6}\n                    orientation=\"right\"\n                  />\n                  <CartesianGrid \n                    stroke={alpha(theme.palette.divider, 0.5)} \n                    strokeDasharray=\"5 5\" \n                    vertical={false}\n                  />\n                  <RechartsTooltip \n                    formatter={customTooltipFormatter}\n                    labelFormatter={(label) => {\n                      const date = new Date(label);\n                      return date.toLocaleDateString('en-US', { \n                        month: 'short', \n                        day: 'numeric',\n                        year: chartTimeRange === '1Y' || chartTimeRange === 'All' ? 'numeric' : undefined\n                      });\n                    }}\n                    contentStyle={{ \n                      backgroundColor: 'white',\n                      borderRadius: 8,\n                      border: 'none',\n                      boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\n                      padding: '8px 12px',\n                    }}\n                  />\n                  <ReferenceLine \n                    y={stockData.previous_close} \n                    stroke={theme.palette.grey[400]} \n                    strokeDasharray=\"3 3\" \n                  />\n                  <Line \n                    type=\"monotone\" \n                    dataKey=\"close\" \n                    stroke={stockData.change_percent > 0 ? theme.palette.success.main : theme.palette.error.main} \n                    strokeWidth={2}\n                    dot={false}\n                    activeDot={{ \n                      r: 6, \n                      stroke: 'white', \n                      strokeWidth: 2, \n                      fill: stockData.change_percent > 0 ? theme.palette.success.main : theme.palette.error.main \n                    }}\n                  />\n                </LineChart>\n              </ResponsiveContainer>\n            </Box>\n          </StyledPaper>\n          \n          {/* Key Stats */}\n          <Typography variant=\"h6\" fontWeight={600} sx={{ mb: 2 }}>\n            Key Statistics\n          </Typography>\n          \n          <Grid container spacing={2} sx={{ mb: 4 }}>\n            <Grid item xs={6} sm={3}>\n              <StyledPaper sx={{ p: 2, height: '100%' }}>\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 1 }}>\n                  Open\n                </Typography>\n                <Typography variant=\"subtitle1\" fontWeight={600}>\n                  {stockData.open ? `$${stockData.open.toFixed(2)}` : 'N/A'}\n                </Typography>\n              </StyledPaper>\n            </Grid>\n            \n            <Grid item xs={6} sm={3}>\n              <StyledPaper sx={{ p: 2, height: '100%' }}>\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 1 }}>\n                  Previous Close\n                </Typography>\n                <Typography variant=\"subtitle1\" fontWeight={600}>\n                  {stockData.previous_close ? `$${stockData.previous_close.toFixed(2)}` : 'N/A'}\n                </Typography>\n              </StyledPaper>\n            </Grid>\n            \n            <Grid item xs={6} sm={3}>\n              <StyledPaper sx={{ p: 2, height: '100%' }}>\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 1 }}>\n                  Day Range\n                </Typography>\n                <Typography variant=\"subtitle1\" fontWeight={600}>\n                  {stockData.price && stockData.change ? \n                    `$${(stockData.price - Math.abs(stockData.change) * 0.8).toFixed(2)} - $${(stockData.price + Math.abs(stockData.change) * 0.2).toFixed(2)}` : \n                    'N/A'}\n                </Typography>\n              </StyledPaper>\n            </Grid>\n            \n            <Grid item xs={6} sm={3}>\n              <StyledPaper sx={{ p: 2, height: '100%' }}>\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 1 }}>\n                  52W Range\n                </Typography>\n                <Typography variant=\"subtitle1\" fontWeight={600}>\n                  {stockData.low_52week && stockData.high_52week ? \n                    `$${stockData.low_52week.toFixed(2)} - $${stockData.high_52week.toFixed(2)}` : \n                    'N/A'}\n                </Typography>\n              </StyledPaper>\n            </Grid>\n            \n            <Grid item xs={6} sm={3}>\n              <StyledPaper sx={{ p: 2, height: '100%' }}>\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 1 }}>\n                  Volume\n                </Typography>\n                <Typography variant=\"subtitle1\" fontWeight={600}>\n                  {formatNumber(stockData.volume)}\n                </Typography>\n              </StyledPaper>\n            </Grid>\n            \n            <Grid item xs={6} sm={3}>\n              <StyledPaper sx={{ p: 2, height: '100%' }}>\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 1 }}>\n                  Avg. Volume\n                </Typography>\n                <Typography variant=\"subtitle1\" fontWeight={600}>\n                  {formatNumber(stockData.avg_volume)}\n                </Typography>\n              </StyledPaper>\n            </Grid>\n            \n            <Grid item xs={6} sm={3}>\n              <StyledPaper sx={{ p: 2, height: '100%' }}>\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 1 }}>\n                  Market Cap\n                </Typography>\n                <Typography variant=\"subtitle1\" fontWeight={600}>\n                  {formatLargeNumber(stockData.market_cap)}\n                </Typography>\n              </StyledPaper>\n            </Grid>\n            \n            <Grid item xs={6} sm={3}>\n              <StyledPaper sx={{ p: 2, height: '100%' }}>\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 1 }}>\n                  P/E Ratio\n                </Typography>\n                <Typography variant=\"subtitle1\" fontWeight={600}>\n                  {stockData.pe_ratio?.toFixed(2)}\n                </Typography>\n              </StyledPaper>\n            </Grid>\n          </Grid>\n          \n          {/* Tabs */}\n          <StyledPaper sx={{ mb: 3, overflow: 'hidden' }}>\n            <Tabs \n              value={tabValue} \n              onChange={handleTabChange} \n              aria-label=\"stock details tabs\"\n              sx={{\n                borderBottom: `1px solid ${theme.palette.divider}`,\n                '& .MuiTabs-indicator': {\n                  backgroundColor: stockData.change_percent > 0 ? theme.palette.success.main : theme.palette.error.main,\n                }\n              }}\n            >\n              <StyledTab icon={<ShowChartIcon />} iconPosition=\"start\" label=\"Chart\" />\n              <StyledTab icon={<ViewInArIcon />} iconPosition=\"start\" label=\"3D View\" />\n              <StyledTab icon={<InfoOutlinedIcon />} iconPosition=\"start\" label=\"About\" />\n            </Tabs>\n            \n            {tabValue === 0 && (\n              <Box sx={{ p: 3 }}>\n                <Typography variant=\"subtitle1\" fontWeight={600} sx={{ mb: 2 }}>\n                  Price Chart\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  This chart shows the historical price movement of {stockData.name} ({symbol}) stock. \n                  You can adjust the time range using the buttons above the chart.\n                </Typography>\n              </Box>\n            )}\n            \n            {tabValue === 1 && (\n              <Box sx={{ p: 3 }}>\n                <Typography variant=\"subtitle1\" fontWeight={600} sx={{ mb: 2 }}>\n                  3D Price Visualization\n                </Typography>\n                \n                <StyledPaper \n                  elevation={0} \n                  sx={{ \n                    height: 400, \n                    width: '100%', \n                    p: 1, \n                    bgcolor: alpha(theme.palette.background.paper, 0.5),\n                    border: `1px solid ${alpha(theme.palette.divider, 0.5)}`,\n                    borderRadius: 3\n                  }}\n                >\n                  {use3DFallback ? (\n                    <StockChartFallback data={get3DChartData()} height={370} />\n                  ) : (\n                    <ErrorBoundary \n                      fallback={<StockChartFallback data={get3DChartData()} height={370} />}\n                      onError={handle3DError}\n                    >\n                      <StockChart3D data={get3DChartData()} height={370} />\n                    </ErrorBoundary>\n                  )}\n                </StyledPaper>\n                \n                <Typography \n                  variant=\"body2\" \n                  color=\"text.secondary\" \n                  sx={{ \n                    mt: 2, \n                    textAlign: 'center',\n                    fontSize: '0.8rem'\n                  }}\n                >\n                  {use3DFallback ? \n                    'Enhanced 3D-style visualization of price movement over time' : \n                    'Tip: Click and drag to rotate the view. Scroll to zoom in and out.'}\n                </Typography>\n              </Box>\n            )}\n            \n            {tabValue === 2 && (\n              <Box sx={{ p: 3 }}>\n                <Typography variant=\"subtitle1\" fontWeight={600} sx={{ mb: 2 }}>\n                  About {stockData.name}\n                </Typography>\n                \n                <Grid container spacing={3}>\n                  <Grid item xs={12} md={6}>\n                    <Box>\n                      <Typography variant=\"body2\" color=\"text.secondary\" paragraph>\n                        {stockData.name} ({symbol}) is a {stockData.industry} company in the {stockData.sector} sector.\n                        The company has a market cap of {formatLargeNumber(stockData.market_cap)}.\n                      </Typography>\n                      \n                      <Typography variant=\"body2\" color=\"text.secondary\" paragraph>\n                        The stock has a P/E ratio of {stockData.pe_ratio?.toFixed(2)}, \n                        and a dividend yield of {stockData.dividend_yield?.toFixed(2)}%.\n                      </Typography>\n                      \n                      <Typography variant=\"body2\" color=\"text.secondary\">\n                        This stock has traded between ${stockData.low_52week?.toFixed(2)} and ${stockData.high_52week?.toFixed(2)} \n                        over the past 52 weeks.\n                      </Typography>\n                    </Box>\n                  </Grid>\n                  \n                  <Grid item xs={12} md={6}>\n                    <Box sx={{ pl: { md: 2 }, borderLeft: { md: `1px solid ${theme.palette.divider}` } }}>\n                      <Box sx={{ mb: 2 }}>\n                        <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 0.5 }}>\n                          Industry\n                        </Typography>\n                        <Typography variant=\"body1\" fontWeight={500}>\n                          {stockData.industry}\n                        </Typography>\n                      </Box>\n                      \n                      <Box sx={{ mb: 2 }}>\n                        <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 0.5 }}>\n                          Sector\n                        </Typography>\n                        <Typography variant=\"body1\" fontWeight={500}>\n                          {stockData.sector}\n                        </Typography>\n                      </Box>\n                      \n                      <Box>\n                        <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 0.5 }}>\n                          Exchange\n                        </Typography>\n                        <Typography variant=\"body1\" fontWeight={500}>\n                          NASDAQ\n                        </Typography>\n                      </Box>\n                    </Box>\n                  </Grid>\n                </Grid>\n              </Box>\n            )}\n          </StyledPaper>\n          \n          <Box sx={{ mb: 4 }}>\n            <Button\n              variant=\"outlined\"\n              fullWidth\n              sx={{ \n                py: 1.2,\n                borderColor: stockData.change_percent > 0 ? theme.palette.success.main : theme.palette.error.main,\n                color: stockData.change_percent > 0 ? theme.palette.success.main : theme.palette.error.main,\n                borderWidth: 1.5,\n                fontWeight: 600,\n                '&:hover': {\n                  borderWidth: 1.5,\n                  backgroundColor: alpha(stockData.change_percent > 0 ? theme.palette.success.main : theme.palette.error.main, 0.05),\n                  borderColor: stockData.change_percent > 0 ? theme.palette.success.main : theme.palette.error.main,\n                }\n              }}\n            >\n              Buy {symbol}\n            </Button>\n          </Box>\n        </>\n      )}\n    </Box>\n  );\n};\n\n// Error boundary component to catch Three.js errors\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    console.error(\"3D chart error:\", error, errorInfo);\n    if (this.props.onError) {\n      this.props.onError();\n    }\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return this.props.fallback;\n    }\n\n    return this.props.children;\n  }\n}\n\nexport default StockDetail;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}